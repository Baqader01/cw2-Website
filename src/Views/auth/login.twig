{% extends 'layout/base.twig' %}

{% block content %}
<main class="auth">

  {% if errors is not empty %}
    <div class="error-box" data-role="{{ role }}">
      <ul>
        {% for e in errors %}
          <li>{{ e }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <div class="role-toggle">
    <button type="button" class="role-btn {{ role == 'volunteer' ? 'active' : '' }}" data-role="volunteer"> Volunteer</button>
    <button type="button" class="role-btn {{ role == 'staff' ? 'active' : '' }}" data-role="staff"> Staff</button>
    <div class="slider"></div>
  </div>

  <div class="forms">
    <form method="POST" class="login-form show" data-role="volunteer">
      <input type="hidden" name="role" value="volunteer">

      <h2>Volunteer Login</h2>

      <label>Email
        <input type="email" name="email" value="{{ old.email|e }}" required>
      </label>

      <label>Password
        <input type="password" name="password" required>
      </label>

      <button class="button">Sign in</button>

      <p class="auth-link">
        New here?
        <a href="/register">Register as a volunteer</a>
      </p>
    </form>

    <form method="POST" class="login-form" data-role="staff">
      <input type="hidden" name="role" value="staff">

      <h2>Staff Login</h2>

      <label>Email
        <input type="email" name="email" value="{{ old.email|e }}" required>
      </label>

      <label>Password
        <input type="password" name="password" required>
      </label>

      <button class="button">Sign in</button>
    </form>

  </div>
</main>

{% endblock %}

{% block scripts %}
  <script src="/cw2/assets/js/auth.js"></script>
{% endblock %}
